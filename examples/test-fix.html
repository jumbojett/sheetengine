<!DOCTYPE html>
<html>
<head>
    <title>Test Fix</title>
</head>
<body>
    <canvas id="maincanvas" width="900" height="500" style="border:1px solid #DDD;"></canvas>
    <div id="status">Loading...</div>
    
    <script src="/dist/sheetengine.js?v=1729194345678"></script>
    <script>
      try {
        const canvasElement = document.getElementById('maincanvas');
        sheetengine.scene.init(canvasElement, {w:900,h:500});
        
        // Test creating a BaseSheet
        const basesheet = new sheetengine.BaseSheet({x:0,y:0,z:0}, {alphaD:90,betaD:0,gammaD:0}, {w:200,h:200});
        basesheet.color = '#5D7E36';
        
        // Test creating a Sheet
        const sheet1 = new sheetengine.Sheet({x:-51,y:0,z:40}, {alphaD:0,betaD:0,gammaD:0}, {w:80,h:80});
        sheet1.context.fillStyle='#5F5';
        sheet1.context.fillRect(0,0,80,80);
        
        // Calculate and draw
        sheetengine.calc.calculateAllSheets();
        sheetengine.drawing.drawScene(true);
        
        document.getElementById('status').textContent = 'Success! No errors.';
        document.getElementById('status').style.color = 'green';
      } catch(e) {
        document.getElementById('status').textContent = 'Error: ' + e.message;
        document.getElementById('status').style.color = 'red';
        console.error(e);
      }
    </script>
</body>
</html>
